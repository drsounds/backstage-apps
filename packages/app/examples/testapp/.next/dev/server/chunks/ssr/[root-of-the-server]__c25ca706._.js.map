{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///www/docs/backstage/packages/app/examples/testapp/pages/_app.js"],"sourcesContent":["import { useEffect } from 'react';\nimport { useRouter } from 'next/router';\nimport { stitchAppBridge } from 'backstage-stitch-app-bridge';\n\nfunction MyApp({ Component, pageProps }) {\n    const router = useRouter();\n\n    useEffect(() => {\n        // Notify parent about navigation\n        const handleRouteChange = (url) => {\n            // Remove the leading slash as the bridge might expect relative or we handle it\n            // Actually, let's send the full path and let parent decide\n            stitchAppBridge.navigate(url);\n        };\n\n        router.events.on('routeChangeComplete', handleRouteChange);\n\n        // Listen for params from parent\n        stitchAppBridge.on('params', (data) => {\n            if (data.params) {\n                // Check if we need to navigate\n                // This is tricky because params might map to a route\n                // For now, let's assume params[0] is the sub-path\n                // e.g. /app/testapp/foo -> params=['foo'] -> /foo\n                const newPath = '/' + (data.params.join('/') || '');\n                if (router.asPath !== newPath) {\n                    router.replace(newPath);\n                }\n            }\n        });\n\n        // Notify ready\n        stitchAppBridge.ready();\n\n        return () => {\n            router.events.off('routeChangeComplete', handleRouteChange);\n        };\n    }, []);\n\n    return <Component {...pageProps} />;\n}\n\nexport default MyApp;\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;;;;;;;AAGA,SAAS,MAAM,EAAE,SAAS,EAAE,SAAS,EAAE;IACnC,MAAM,SAAS,IAAA,8KAAS;IAExB,IAAA,gHAAS,EAAC;QACN,iCAAiC;QACjC,MAAM,oBAAoB,CAAC;YACvB,+EAA+E;YAC/E,2DAA2D;YAC3D,gBAAgB,QAAQ,CAAC;QAC7B;QAEA,OAAO,MAAM,CAAC,EAAE,CAAC,uBAAuB;QAExC,gCAAgC;QAChC,gBAAgB,EAAE,CAAC,UAAU,CAAC;YAC1B,IAAI,KAAK,MAAM,EAAE;gBACb,+BAA+B;gBAC/B,qDAAqD;gBACrD,kDAAkD;gBAClD,kDAAkD;gBAClD,MAAM,UAAU,MAAM,CAAC,KAAK,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE;gBAClD,IAAI,OAAO,MAAM,KAAK,SAAS;oBAC3B,OAAO,OAAO,CAAC;gBACnB;YACJ;QACJ;QAEA,eAAe;QACf,gBAAgB,KAAK;QAErB,OAAO;YACH,OAAO,MAAM,CAAC,GAAG,CAAC,uBAAuB;QAC7C;IACJ,GAAG,EAAE;IAEL,qBAAO,qKAAC;QAAW,GAAG,SAAS;;;;;;AACnC;uCAEe"}}]
}